// -----------------------------------------------------------
// PRISMA CONFIGURATION
// -----------------------------------------------------------

/// This generator defines how the Prisma Client is built for your application.
generator client {
  provider = "prisma-client-js"
}

/// DATABASE CONNECTION
/// Change provider to "postgresql" when migrating to Supabase.
datasource db {
  // Use "postgresql" for Supabase/Production
  // Use "sqlite" for Local Development
  provider = "sqlite" 
  
  // The URL is pulled from your .env file for security
  url      = env("DATABASE_URL")
}

enum Designation {
  NULL
  PEACE_AND_ORDER
  HEALTH_AND_SANITATION
  EDUCATION_CULTURE_ARTS
  YOUTH_SPORTS_DEVELOPMENT
  INFRASTRUCTURE_PUBLIC_WORKS
  ENVIRONMENT_SOLID_WASTE
  LIVELIHOOD_ECONOMIC_DEVELOPMENT
  WOMEN_CHILDREN_FAMILY
  SENIOR_CITIZEN_PWD
  DISASTER_RISK_REDUCTION
  HUMAN_RIGHTS_LEGAL
}

model User {
  id           Int         @id @default(autoincrement())
  username     String      @unique
  password     String
  email        String
  role         String      @default("staff")
  designation  Designation @default(NULL)
  isActive     Boolean     @default(true)
  isDeleted    Boolean     @default(false)
  createdAt    DateTime    @default(now())
}

model Resident {
  id              Int      @id @default(autoincrement())
  firstName       String
  lastName        String
  birthDate       DateTime
  purok           String
  houseNumber     String
  civilStatus     String?
  religion        String?
  phoneNumber     String?  @unique
  isIndigent      Boolean  @default(false)
  isSeniorCitizen Boolean  @default(false)
  isDeleted       Boolean  @default(false)
  createdAt       DateTime @default(now())
}

model DocumentTemplate {
  id             Int      @id @default(autoincrement())
  name           String
  layoutSettings Json     
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}